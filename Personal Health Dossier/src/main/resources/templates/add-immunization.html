<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Judge v2</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery-3.3.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
</head>
<body id="reportsPage">
<div class="" id="addAllergy">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="navbar navbar-expand-xl navbar-light bg-light rounded">
                    <a class="navbar-brand" th:href="@{/home}">
                        <h1 class="tm-site-title mb-0"><em>Health Dossier</em></h1>
                    </a>
                    <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse"
                            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div th:object="${physicianViewModel}" class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mx-auto">
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/home}">
                                    <span th:text="|Hello, ะด-ั *{getFirstName()} *{getLastName()}!|"></span>
                                </a>
                            </li>

                            <li sec:authorize="hasRole('ADMIN')" class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
                                   role="button" data-toggle="dropdown" aria-haspopup="true"
                                   aria-expanded="false">
                                    Admin
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="#">Add Physician</a>
                                    <a class="dropdown-item" href="#">Delete Physician</a>
                                    <a class="dropdown-item" href="#">Add Pharmacist</a>
                                    <a class="dropdown-item" href="#">Delete Pharmacist</a>
                                    <a class="dropdown-item" href="#">Add Role</a>

                                </div>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/immunizations/add">Immunization</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="/prescriptions/add">Write a prescription</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" href="/medical-centers/add">Hospitalize</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/allergies/add">Add Allergy</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/physicians/edit-profile/{id}(id=*{id})}">Profile</a>
                            </li>
                            <!--                            <li class="nav-item d-flex">-->
                            <!--                                <form class="navbar-form">-->

                            <!--                                    <input class="form-control input-sm" type="search" placeholder="Search"-->
                            <!--                                           aria-label="Search Small">-->
                            <!--                                    <button class="btn btn-xs btn-outline-info navbar-btn d-flex" type="submit">Search</button>-->


                            <!--                                </form>-->
                            <!--                            </li>-->
                        </ul>
                        <!--                        <form class="navbar-form navbar-left" action="/action_page.php">-->
                        <!--                            <div class="input-group-sm">-->
                        <!--                                <input type="text" class="form-control" placeholder="Search Patient" aria-label="Search Small">-->
                        <!--                                <button type="submit" class="btn btn-info" style="height:35px; width:auto; padding-top: 3px; border-radius: 5px">Search</button>-->

                        <!--                            </div>-->
                        <!--                        </form>-->

                        <ul class="navbar-nav">

                            <li class="nav-item">
                                <form th:action="@{/logout}" method="POST">
                                    <button type="submit" class="nav-link d-flex btn btn-link">
                                        Logout
                                    </button>
                                </form>

                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <br/>
        <div class="row tm-mt-big justify-content-center">
            <div class="col-xl-8 col-lg-10 col-md-12 col-sm-12">
                <div class="bg-white tm-block">
                    <div class="row">
                        <div class="col-12">
                            <h2 class="tm-block-title d-inline-block">Immunization</h2>
                        </div>
                    </div>
                    <form
                            th:action="@{/immunizations/add}"
                            th:method="POST"

                            class="text-dark">
                        <div class="form-row">
                            <div class="col">
                                <label for="patientPin">Patient's PIN:</label>
                                <input th:field="${immunizationAddBindingModel.patientPin}"
                                       th:errorclass="is-invalid"
                                        minlength="10" maxlength="10"
                                        required
                                        id="patientPin"
                                        name="patientPin"
                                        type="text"
                                        class="form-control"
                                        placeholder="Patient personal identification number">
                                <small
                                        class="invalid-feedback text-light form-text bg-danger rounded">Can
                                    contain exactly 10 digits!</small>
                                <small th:if="${patientDontExist}" class="text-light form-text bg-danger rounded">Patient with
                                    that PIN does not
                                    exist!</small>
                            </div>
                            <div class="col">
                                <label for="vaccine">Vaccine name:</label>
                                <input th:field="${immunizationAddBindingModel.vaccine}"
                                       th:errorclass="is-invalid"
                                        minlength="3"
                                        required
                                        id="vaccine"
                                        name="vaccine"
                                        type="text"
                                        class="form-control"
                                        placeholder="Name of a vaccine...">
                                <small
                                        class="invalid-feedback text-light form-text bg-danger rounded">Should
                                    be at least 3 characters long and cannot be blank</small>
                            </div>
                        </div>

                        <div class="form-row ">
                            <div class="col">
                                <label for="immunizationDate">Date of immunization:</label>
                                <input th:field="${immunizationAddBindingModel.immunizationDate}"
                                       th:errorclass="is-invalid"
                                        th:max="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}"
                                        required
                                        name="immunizationDate"
                                        id="immunizationDate" type="date" class="form-control"
                                        placeholder="Date when immunization has been applied">
                                <small id="immunizationDateError"
                                       class="invalid-feedback text-light form-text bg-danger rounded">Date
                                    cannot be in the future!</small>
                            </div>
                            <div class="col">
                                <label for="typeOfApplication">Type of application:</label>
                                <input th:field="${immunizationAddBindingModel.typeOfApplication}"
                                       th:errorclass="is-invalid"
                                        minlength="3"
                                        required
                                        id="typeOfApplication"
                                        name="typeOfApplication"
                                        type="text"
                                        class="form-control"
                                        placeholder="Type of application...">
                                <small
                                        class="invalid-feedback text-light form-text bg-danger rounded">Should
                                    be at least 3 characters long and cannot be blank</small>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col">
                                <label for="dosage">Dosage:</label>
                                <input th:field="${immunizationAddBindingModel.dosage}"
                                       th:errorclass="is-invalid"
                                        minlength="3"
                                        required
                                        id="dosage"
                                        name="dosage"
                                        type="number" step="0.01" min="0" max="100"
                                        class="form-control"
                                        placeholder="In milliliters...">
                                <small id="dosageError"
                                       class="invalid-feedback text-light form-text bg-danger rounded">Cannot be
                                    null!</small>
                            </div>
                            <div class="col">
                                <label for="notes">Notes:</label>
                                <input th:field="${immunizationAddBindingModel.notes}"
                                       th:errorclass="is-invalid"
                                        id="notes"
                                        name="notes"
                                        type="text"
                                        class="form-control"
                                        placeholder="Some notes...">
                                <small id="notesError"
                                       class="invalid-feedback text-light form-text bg-danger rounded">Cannot be
                                    null!</small>
                            </div>

                        </div>
                        <div class="form-row">
                            <div class="col">
                                <label for="batchNumber">Batch number:</label>
                                <input th:field="${immunizationAddBindingModel.batchNumber}"
                                       th:errorclass="is-invalid"
                                        id="batchNumber"
                                        name="batchNumber"
                                        type="text"
                                        class="form-control"
                                        placeholder="Batch number optional...">
                                <small id="batchNumberError"
                                       class="invalid-feedback text-light form-text bg-danger rounded">Cannot be
                                    null!</small>
                            </div>
                            <div class="col">
                                <label for="merchantCode">Merchant code:</label>
                                <input th:field="${immunizationAddBindingModel.merchantCode}"
                                       th:errorclass="is-invalid"
                                        id="merchantCode"
                                        name="merchantCode"
                                        type="text"
                                        class="form-control"
                                        placeholder="Merchant code optional...">
                                <small id="merchantCodeError"
                                       class="invalid-feedback text-light form-text bg-danger rounded">Cannot be
                                    null!</small>
                            </div>
                        </div>
                        <div class="d-flex justify-content-center mt-4">
                            <button class="btn btn-primary btn-block w-50" type="submit">Save Immunization</button>
                        </div>
                    </form>
                </div>
            </div>

        </div>

        <!-- row -->
        <div class="row tm-content-row tm-mt-big">

        </div>
        <footer class="row">
            <div class="col-12 container-fluid text-right font-weight-light">
                <p class="d-inline-block tm-bg-black text-white py-2 px-4">
                    &copy; Spring Team 2020
                </p>
            </div>
        </footer>
    </div>
</div>

</body>
</html>